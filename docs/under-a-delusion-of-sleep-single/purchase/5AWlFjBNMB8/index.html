<!DOCTYPE html>
<html  lang="en">
    <head>
        <title>Under a Delusion of Sleep - Single</title>
        <meta charset="utf-8">
        <meta name="description" content="Under a Delusion of Sleep - Single">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        
                    <link href="../../../favicon.svg" rel="icon" type="image/svg+xml">
                    <link href="../../../favicon_light.png" rel="icon" type="image/png" media="(prefers-color-scheme: light)">
                    <link href="../../../favicon_dark.png" rel="icon" type="image/png"  media="(prefers-color-scheme: dark)">
                
        <link rel="alternate" type="application/rss+xml" title="Feed" href="../../../feed.rss">
        <link href="../../../styles.css" rel="stylesheet">
        <script data-root-prefix="../../../" defer src="../../../scripts.js"></script>
    </head>
    <body>
        <script>document.body.classList.add('js_enabled');</script>
        <nav>
            <a class="logo" href="../../.././">
                <img alt="Faircamp" src="../../../logo.svg">
            </a>
            <div class="path">
                <a href="../../.././">Berdandy's Catalog</a>
                 <span>›</span> <a href="../../">Under a Delusion of Sleep - Single</a> <span>›</span> <a href="./"><svg width="64" height="64" version="1.1" viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg">
    <path d="m45.582 40.831c0 3.0614-0.93758 5.5871-2.8127 7.5772-1.8752 1.9899-4.4391 3.2528-7.6919 3.7885-0.19134 0.07654-0.28702 0.19135-0.28702 0.34442l0.0574 3.7312c0 0.19134-0.07654 0.34442-0.22961 0.45921-0.11481 0.15307-0.26788 0.22961-0.45921 0.22961h-5.7402c-0.19135 0-0.36355-0.07654-0.51662-0.22961-0.11481-0.11481-0.17221-0.26788-0.17221-0.45921l0.0574-3.7885c0-0.15307-0.09567-0.26788-0.28702-0.34442-3.2528-0.65056-5.8167-1.9899-7.6919-4.0181-1.8369-2.0282-2.7553-4.573-2.7553-7.6344v-1.2628c0-0.19134 0.0574-0.34442 0.17221-0.45921 0.15307-0.15307 0.32528-0.22961 0.51662-0.22961h6.1995c0.19134 0 0.34442 0.07654 0.45921 0.22961 0.15307 0.11481 0.22961 0.26788 0.22961 0.45921v0.86104c0 1.5308 0.66971 2.8319 2.0091 3.9034 1.3394 1.0332 3.1763 1.5499 5.5106 1.5499 1.9516 0 3.3867-0.42095 4.3051-1.2628 0.9567-0.88016 1.4351-1.9517 1.4351-3.2145 0-0.91844-0.28701-1.6838-0.86104-2.2961-0.57402-0.65056-1.3776-1.2055-2.4108-1.6647-0.99497-0.49749-2.5831-1.1672-4.7644-2.0091-2.4875-0.88016-4.5731-1.7795-6.2568-2.6979-1.6837-0.91841-3.1187-2.1622-4.3051-3.7312-1.1481-1.6072-1.7221-3.5781-1.7221-5.9125 0-2.9466 0.88014-5.3767 2.6404-7.2901 1.7986-1.9516 4.2095-3.2145 7.2327-3.7885 0.19135-0.07654 0.28702-0.19134 0.28702-0.34442l-0.1148-4.1904c0-0.19135 0.0574-0.34442 0.17221-0.45921 0.15307-0.15307 0.32528-0.22961 0.51662-0.22961h5.7402c0.19134 0 0.34442 0.076543 0.45921 0.22961 0.15307 0.11481 0.22961 0.26788 0.22961 0.45921l-0.0574 4.3051c0 0.15307 0.09567 0.26788 0.28702 0.34442 3.1763 0.65056 5.702 2.0474 7.5772 4.1904 1.8752 2.1048 2.8127 4.6879 2.8127 7.7493v0.86104c0 0.19134-0.07654 0.36355-0.22961 0.51662-0.11481 0.11481-0.26788 0.17221-0.45921 0.17221h-6.2568c-0.19134 0-0.36355-0.0574-0.51662-0.17221-0.11481-0.15307-0.17221-0.32528-0.17221-0.51662v-0.45921c0-1.6072-0.63142-2.9657-1.8943-4.0755-1.2628-1.1481-2.9849-1.7221-5.1662-1.7221-1.7221 0-3.0615 0.38268-4.0181 1.148s-1.435 1.8178-1.4351 3.1572c0 0.9567 0.26788 1.7603 0.80363 2.4108 0.57402 0.65056 1.4159 1.2437 2.5257 1.7795 1.1098 0.53576 2.8318 1.2246 5.1662 2.0666 2.564 0.9567 4.5922 1.8178 6.0846 2.5832 1.4925 0.7654 2.8318 1.9135 4.0181 3.4442 1.1864 1.5308 1.7795 3.5016 1.7795 5.9125z"/>
</svg>
 Downloads</a>
            </div>
        </nav>
        <div class="vcenter_page_outer">
    <div class="hcenter_narrow mobile_hpadding vcenter_page vpad_adaptive">
        <h1>Purchase downloads</h1>
        
        <div style="align-items: center; column-gap: .8rem; display: flex; margin: 2em 0;">
            <div style="max-width: 4rem">
                <a class="image" href="../../">
    <img alt="Auto-generated cover image" src="../../cover.svg">
</a>

            </div>
            <div>
                <div style="font-size: var(--boldly-larger);">Under a Delusion of Sleep - Single</div>
                <div style="font-size: var(--subtly-larger);"><a href="../../.././">Berdandy</a></div>
            </div>
        </div>
    
        <form action="../../downloads/75vj2dJ6HX0/"
      id="confirm">
    <label for="price">Name your price</label><br><br>
<div style="align-items: center; column-gap: .5rem; display: flex; position: relative;">
    <span style="position: absolute; left: .5rem;">$</span>
    <input autocomplete="off"
           
           data-min="2"
           id="price"
           pattern="[0-9]+([.,][0-9])?"
           placeholder="2 or more"
           style="padding-left: 1.5rem; width: 8rem;"
           type="text">
    CAD
</div>
<br>

    <button>Confirm</button>
    <div style="font-size: .9rem; margin: 1rem 0;">
        Available formats: FLAC, MP3
    </div>
</form>

<script>
    document.querySelector('#confirm').addEventListener('submit', event => {
        event.preventDefault();

        const priceField = event.target.price;
        if (priceField) {
            const max = priceField.dataset.max ? parseFloat(priceField.dataset.max) : null;
            const min = priceField.dataset.min ? parseFloat(priceField.dataset.min) : null;
            const price = parseFloat(priceField.value.replace(',', '.'));

            if (min !== null && price < min) {
                // TODO: Localize (or preferably find way to avoid text)
                // TODO: Render in interface itself (no alert)
                alert(`Minimum price is ${min}`);
                return;
            }

            if (max !== null && price > max) {
                // TODO: Localize (or preferably find way to avoid text)
                // TODO: Render in interface itself (no alert)
                alert(`Maximum price is ${max}`);
                return;
            }

            if (price === 0) {
                location.href = event.target.action;
                return;
            }
        }

        document.querySelector('#confirm').style.display = 'none';
        document.querySelector('.payment').classList.add('active');
    });
</script>

<div class="payment">
    Payment options:

    <div style="align-items: center; display: flex; margin-bottom: 1rem;">
    <div style="font-size: .8rem; margin-right: 1rem; white-space: nowrap;">Option 1</div>
    <div>
    Pay on liberapay:<br>
    <a href="https://liberapay.com/berdandy">https://liberapay.com/berdandy</a>
</div>

</div>


    <br><br>

    <input id="confirm_payment" onchange="document.querySelector('#continue').classList.toggle('disabled', !this.checked)" type="checkbox"> <label for="confirm_payment">I have made or arranged the payment</label>

    <br><br>

    <a class="button disabled"
       href="../../downloads/75vj2dJ6HX0/"
       id="continue"
       onclick="if (!document.querySelector('#confirm_payment').checked) { event.preventDefault() }">
        Continue
    </a>
</div>

    </div>
</div>

        
    </body>
</html>